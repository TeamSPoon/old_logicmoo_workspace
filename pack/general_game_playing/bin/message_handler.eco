:-(module(message_handler)).
:-(export(/(handle_message,3))).
:-(use_module(gdl_parser)).
:-(use_module(logger)).
:-(use_module(gameplayer)).
:-(use_module(time_sync)).
:-(mode(handle_message(++,++,-))).
:-(:(sepia_kernel,store_pred(/(handle_message,3),[](o(136),pw(5),o(203),y(5),o(352),2,a(2),y(3),o(128),0,1,ref(44),o(3),a(1),y(2),o(285),a(2),y(1),o(342),proc(/(parse_gdl_message_string,2)),1,'/usr/users/iki/ss177134/Arbeit/ki/gameplay/workcvs/simpleplayer/prolog_starter_code/src/message_handler.ecl',35,1142,1167,o(143),proc(/(parse_gdl_message_string,2)),63,o(204),y(5),pw(4),o(351),4,y(1),a(1),o(342),proc(/(handle_message_switch,4)),1,'/usr/users/iki/ss177134/Arbeit/ki/gameplay/workcvs/simpleplayer/prolog_starter_code/src/message_handler.ecl',36,1244,1266,o(145),proc(/(handle_message_switch,4)),o(199),525,25,o(3),a(1),y(2),o(105),a(1),"error parsing message!",o(404),a(2),message_handler,o(342),proc(:(sepia_kernel,/(writeln_body,2))),1,'/usr/users/iki/ss177134/Arbeit/ki/gameplay/workcvs/simpleplayer/prolog_starter_code/src/message_handler.ecl',35,1201,1209,o(143),proc(:(sepia_kernel,/(writeln_body,2))),29,o(170),proc(/(fail,0)),1,'/usr/users/iki/ss177134/Arbeit/ki/gameplay/workcvs/simpleplayer/prolog_starter_code/src/message_handler.ecl',35,1236,1240,0,0,o(163),o(0),ref(20),ref(37),ref(58),ref(68),0),82,77,524288,'/usr/users/iki/ss177134/Arbeit/ki/gameplay/workcvs/simpleplayer/prolog_starter_code/src/message_handler.ecl',33,1086))).
:-(mode(handle_message_switch(+,++,++,-))).
:-(:(sepia_kernel,store_pred(/(handle_message_switch,4),[](o(6),pw(9),a(3),y(1),o(3),a(4),y(2),o(123),a(1),ref(258),4,ref(fail),o(16),a(1),functor(/(start,5)),ref(26),o(370),y(4),y(5),o(370),y(6),y(7),o(41),y(8),o(139),ref(34),o(367),y(4),y(5),o(367),y(6),y(7),o(42),y(8),o(3),a(2),y(9),o(4),y(4),a(1),o(342),proc(/(set_log_prefix,1)),1,'/usr/users/iki/ss177134/Arbeit/ki/gameplay/workcvs/simpleplayer/prolog_starter_code/src/message_handler.ecl',40,1473,1488,o(143),proc(/(set_log_prefix,1)),1015,o(105),a(1),"messages.txt",o(4),y(9),a(2),o(342),proc(/(logln,2)),1,'/usr/users/iki/ss177134/Arbeit/ki/gameplay/workcvs/simpleplayer/prolog_starter_code/src/message_handler.ecl',41,1499,1505,o(143),proc(/(logln,2)),503,o(285),a(2),y(3),o(4),y(1),a(1),o(342),proc(/(external_time_to_local,2)),1,'/usr/users/iki/ss177134/Arbeit/ki/gameplay/workcvs/simpleplayer/prolog_starter_code/src/message_handler.ecl',42,1538,1561,o(143),proc(/(external_time_to_local,2)),509,o(351),5,y(4),a(1),o(4),y(3),a(6),o(342),proc(/(game_start,6)),1,'/usr/users/iki/ss177134/Arbeit/ki/gameplay/workcvs/simpleplayer/prolog_starter_code/src/message_handler.ecl',43,1594,1605,o(143),proc(/(game_start,6)),5,o(170),proc(/(=,2)),1,'/usr/users/iki/ss177134/Arbeit/ki/gameplay/workcvs/simpleplayer/prolog_starter_code/src/message_handler.ecl',44,1675,1676,5,0,o(4),y(2),a(1),o(14),a(1),"READY",o(172),o(154),o(367),y(4),y(5),o(105),a(1),"messages.txt",o(342),proc(/(logln,2)),1,'/usr/users/iki/ss177134/Arbeit/ki/gameplay/workcvs/simpleplayer/prolog_starter_code/src/message_handler.ecl',47,1772,1778,o(143),proc(/(logln,2)),55,o(285),a(2),y(3),o(4),y(1),a(1),o(342),proc(/(external_time_to_local,2)),1,'/usr/users/iki/ss177134/Arbeit/ki/gameplay/workcvs/simpleplayer/prolog_starter_code/src/message_handler.ecl',48,1811,1834,o(143),proc(/(external_time_to_local,2)),61,o(351),2,y(4),a(1),o(353),y(3),a(3),y(2),a(4),o(342),proc(/(game_play,4)),1,'/usr/users/iki/ss177134/Arbeit/ki/gameplay/workcvs/simpleplayer/prolog_starter_code/src/message_handler.ecl',49,1867,1877,o(145),proc(/(game_play,4)),o(367),y(4),y(5),o(105),a(1),"messages.txt",o(342),proc(/(logln,2)),1,'/usr/users/iki/ss177134/Arbeit/ki/gameplay/workcvs/simpleplayer/prolog_starter_code/src/message_handler.ecl',52,2006,2012,o(143),proc(/(logln,2)),55,o(285),a(2),y(3),o(4),y(1),a(1),o(342),proc(/(external_time_to_local,2)),1,'/usr/users/iki/ss177134/Arbeit/ki/gameplay/workcvs/simpleplayer/prolog_starter_code/src/message_handler.ecl',53,2045,2068,o(143),proc(/(external_time_to_local,2)),61,o(351),2,y(4),a(1),o(4),y(3),a(3),o(342),proc(/(game_stop,3)),1,'/usr/users/iki/ss177134/Arbeit/ki/gameplay/workcvs/simpleplayer/prolog_starter_code/src/message_handler.ecl',54,2101,2111,o(143),proc(/(game_stop,3)),5,o(342),proc(/(closelogs,0)),1,'/usr/users/iki/ss177134/Arbeit/ki/gameplay/workcvs/simpleplayer/prolog_starter_code/src/message_handler.ecl',55,2147,2156,o(143),proc(/(closelogs,0)),5,o(170),proc(/(=,2)),1,'/usr/users/iki/ss177134/Arbeit/ki/gameplay/workcvs/simpleplayer/prolog_starter_code/src/message_handler.ecl',56,2164,2165,5,0,o(4),y(2),a(1),o(14),a(1),"DONE",o(172),o(154),o(62),immediately,o(104),a(1),int,o(342),proc(/(exit_block,1)),1,'/usr/users/iki/ss177134/Arbeit/ki/gameplay/workcvs/simpleplayer/prolog_starter_code/src/message_handler.ecl',59,2260,2271,o(145),proc(/(exit_block,1)),o(0),o(177),table([-(/(kill,1),ref(242)),-(/(start,5),ref(26)),-(/(stop,2),ref(166)),-(/(play,2),ref(116))],8),ref(42),ref(58),ref(74),ref(91),ref(101),ref(124),ref(140),ref(159),ref(174),ref(190),ref(207),ref(217),ref(227),ref(249),0),281,266,524288,'/usr/users/iki/ss177134/Arbeit/ki/gameplay/workcvs/simpleplayer/prolog_starter_code/src/message_handler.ecl',38,1356))).
